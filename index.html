<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="index.css">
    <title>My Favorite Albums Task Documentation</title>
</head>
<body>
<h1>My Favorite Albums Task Documentation</h1>

<div class="tab-bar">
  <button class="tab-btn active" data-tab="users">Users</button>
  <button class="tab-btn" data-tab="programmers">Programmers</button>
</div>

<!-- ===== USERS ===== -->
<div id="users-section" class="content-section active">

  <nav class="section-nav">
    <span class="nav-label">Jump to:</span>
    <a href="#number-one-albums">Number One Albums</a>
    <a href="#top-albums-by-year">Top Albums by Year</a>
    <a href="#artists-albums">Artist's Albums</a>
    <a href="#favorite-artists">Favorite Artists</a>
    <a href="#artist-comparison">Artist Comparison</a>
    <a href="#vinyl">Vinyl</a>
    <a href="#appendix">Appendix</a>
  </nav>

  <h2>Users</h2>
  <i>My Favorite Albums</i> is a web application that allows users to explore and
  analyze one person's album listening history through interactive data visualizations.
  <br><br>
  In this guide, you will learn how to use each of the data <strong>aggregation</strong> tools within
  <i>My Favorite Albums</i>. Use the links below to jump to any tab.
  <br><br>
  <strong>Audience</strong>: End users with little to no programming experience who want to explore and analyze the owner's album collection through the <i>My Favorite Albums</i> web interface.
  <br><br>
  <strong>Prerequisites</strong>: Familiarity with basic web browser interaction such as clicking buttons, selecting from menus, and dragging sliders.
  <br><br>
  <strong>Starting point</strong>: The <i>My Favorite Albums</i> website is open in your browser.
  <br><br>
  <p class="note">Note: any words that are bolded have definitions in the appendix at the bottom of this page.</p>

  <div class="collapsible" id="number-one-albums">
    <button class="collapsible-btn">Browsing Number One Albums by Year Range <span class="arrow">▸</span></button>
    <div class="collapsible-body" hidden>
      <p>Use this tab to browse the owner's top-ranked album for each year within a time period you define. By adjusting the <strong>range slider</strong>, you can expand or narrow the year range, and the <strong>data table</strong> will update to show the number one album for each year in your selected range. This walkthrough will guide you through the <strong>range slider</strong> with an example.</p>
      <ol>
        <li>Click the <strong>Number One Albums</strong> tab. You will see a <strong>range slider</strong> and 6 albums in a <strong>data table</strong> like the image below (the range slider is set to start from 1993 to 1998 at the beginning).
          <img src="Images/EndUser/NumberOneAlbums/S1.jpg" alt="Number One Albums tab showing a range slider set from 1993 to 1998 and a data table with 6 albums" class="step-img">
        </li>
        <li>Drag your mouse over the right <strong>handle</strong> and slide it to 2010. If done correctly, you will see the last album in the <strong>data table</strong> has the year 2010, as shown below.
          <img src="Images/EndUser/NumberOneAlbums/S2.jpg" alt="Range slider with right handle moved to 2010, data table showing last entry as year 2010" class="step-img">
        </li>
        <li>Drag your mouse over the left <strong>handle</strong> and slide it to 2000. If done correctly, you will now see the first album in the <strong>data table</strong> contains the year 2000 or later, as shown below.
          <img src="Images/EndUser/NumberOneAlbums/S3.jpg" alt="Range slider with left handle moved to 2000, data table showing first entry as year 2000 or later" class="step-img">
        </li>
      </ol>
    </div>
  </div>

  <div class="collapsible" id="top-albums-by-year">
    <button class="collapsible-btn">Viewing Top Albums for a Specific Year <span class="arrow">▸</span></button>
    <div class="collapsible-body" hidden>
      <p>The <strong>Top Albums by Year</strong> tab lets you see every album the owner ranked in a given year, listed from highest to lowest rank. This is useful when you want to explore what the owner was listening to during a particular year rather than just seeing the single top album. In this tutorial, you will select 1995 to see the full ranked list for that year.</p>
      <ol>
        <li>Click the <strong>Top Albums by Year</strong> tab.
          <img src="Images/EndUser/TopAlbumsByYear/S1.jpg" alt="Top Albums by Year tab showing the Choose a year drop-down menu and a Submit button" class="step-img">
        </li>
        <li>Click the <strong>Choose a year</strong> <strong>drop-down menu</strong>.
          <img src="Images/EndUser/TopAlbumsByYear/S2.jpg" alt="Drop-down menu open with a list of years to select from" class="step-img">
        </li>
        <li>Select a year. For this tutorial, select <strong>1995</strong>.</li>
           <img src="Images/EndUser/TopAlbumsByYear/S3.jpg" alt="Data table displaying ranked albums for 1995 with (What's the Story) Morning Glory? listed as the number one album" class="step-img">
        <li>Click <strong>Submit</strong>. If done correctly, you will see that the number one album for 1995 is <em>(What's the Story) Morning Glory?</em>, as shown below.
           <img src="Images/EndUser/TopAlbumsByYear/S4.jpg" alt="Completed Top Albums by Year data table showing full results for 1995" class="step-img">
        </li>
      </ol>
      <p class="note">Note: once you have clicked Submit for the first time, you do not need to click it again — selecting a new year from the drop-down will automatically update the results.</p>
    </div>
  </div>

  <div class="collapsible" id="artists-albums">
    <button class="collapsible-btn">Browsing an Artist's Ranked Albums <span class="arrow">▸</span></button>
    <div class="collapsible-body" hidden>
      <p>The <strong>Artist's Albums</strong> tab lets you explore every album the owner has ranked for a specific artist, including each album's release year and rating. Below the data table, the tab also shows the artist's total ranked album count and average rating — a summary that becomes especially useful for artists with many albums in the database. In this tutorial, you will look up two artists to see how the tab works and how it updates when you switch artists.</p>
      <ol>
        <li>Click the <strong>Artist's Albums</strong> tab.
          <img src="Images/EndUser/ArtistsAlbums/S1.jpg" alt="Artist's Albums tab showing the Choose a band or artist drop-down menu and a Submit button" class="step-img">
        </li>
        <li>Click the <strong>Choose a band or artist</strong> <strong>drop-down menu</strong> and select <strong>10,000 Maniacs</strong>.
          <img src="Images/EndUser/ArtistsAlbums/S2.jpg" alt="Drop-down menu open showing a list of artists in alphabetical order" class="step-img">
        </li>
        <li>Click <strong>Submit</strong>. If done correctly, you will see that 10,000 Maniacs has one ranked album — <em>MTV Unplugged</em>. Below the table, the total album count and average rating are displayed. This summary is more useful for artists with more albums in the database, as shown below.
          <img src="Images/EndUser/ArtistsAlbums/S3.jpg" alt="Data table showing 10,000 Maniacs with one ranked album MTV Unplugged and the album count and average rating displayed below" class="step-img">
          <p class="note">Note: once you have clicked Submit for the first time, you do not need to click it again — selecting a new artist from the drop-down will automatically update the results.</p>
        </li>
        <li>
          <ol class="sub-steps">
            <li>Click the <strong>Choose a band or artist</strong> <strong>drop-down menu</strong> again.</li>
            <li>Select <strong>A.C. Newman</strong>.
              <p>Because you have already clicked Submit for a previous artist, the app will automatically display the new artist's albums without requiring you to click Submit again.</p>
              If done correctly, you will see <em>The Slow Wonder</em>, as shown below.
            </li>
          </ol>
        </li>
      </ol>
      <img src="Images/EndUser/ArtistsAlbums/S4.jpg" alt="Data table automatically updating to show A.C. Newman's ranked album The Slow Wonder" class="step-img">
    </div>
  </div>

  <div class="collapsible" id="favorite-artists">
    <button class="collapsible-btn">Filtering the Owner's Top-Rated Artists by Album Count <span class="arrow">▸</span></button>
    <div class="collapsible-body" hidden>
      <p>The <strong>Favorite Artists</strong> tab shows the owner's highest-rated artists filtered by a minimum number of ranked albums — useful for focusing on artists the owner has listened to most. Results are capped at a maximum of 15 artists, sorted by average rating from highest to lowest. In this tutorial, you will adjust the filters to see how the results change.</p>
      <ol>
        <li>Click the <strong>Favorite Artists</strong> tab.
          <img src="Images/EndUser/FavoriteArtists/S1.jpg" alt="Favorite Artists tab showing the Minimum number of albums drop-down menu, the Exclude EPs and Live Albums checkbox, and a Submit button" class="step-img">
        </li>
        <li>Click <strong>Submit</strong>. The default setting requires a minimum of 10 albums and does not exclude EPs or Live Albums. If done correctly, you will see 6 artists in the data table, as shown below.
          <img src="Images/EndUser/FavoriteArtists/S2.jpg" alt="Data table showing 6 artists with the default minimum of 10 albums and EPs and Live Albums not excluded" class="step-img">
          <p class="note">Note: once you have clicked Submit for the first time, you do not need to click it again — adjusting the filters will automatically update the results.</p>
        </li>
        <li>Click the <strong>Exclude EPs and Live Albums</strong> checkbox. You do not need to click Submit again — the app will automatically refresh the results. If done correctly, you will now see 7 artists, as the count now includes EPs and Live Albums, as shown below.
          <img src="Images/EndUser/FavoriteArtists/S3.jpg" alt="Data table refreshed to show 7 artists after checking the Exclude EPs and Live Albums checkbox" class="step-img">
        </li>
        <li>Click the <strong>Minimum number of albums</strong> <strong>drop-down menu</strong>.
          <img src="Images/EndUser/FavoriteArtists/S4.jpg" alt="Minimum number of albums drop-down menu open showing numeric options" class="step-img">
          <ol class="sub-steps">
            <li>Select <strong>8</strong>. The app will refresh automatically — no need to click Submit. If done correctly, you will now see 10 artists in the data table, sorted by rating in descending order. Note that this count includes EPs and Live Albums, as shown below.</li>
          </ol>
        </li>
      </ol>
      <img src="Images/EndUser/FavoriteArtists/S5.jpg" alt="Data table showing 10 artists after selecting a minimum of 8 albums with EPs and Live Albums included" class="step-img">
    </div>
  </div>

  <div class="collapsible" id="artist-comparison">
    <button class="collapsible-btn">Comparing Two Artists' Ratings Over Time <span class="arrow">▸</span></button>
    <div class="collapsible-body" hidden>
      <p>The <strong>Artist Comparison</strong> tab generates a <strong>comparative line chart</strong> that plots two artists' average album ratings side by side across different years, making it easy to see how each artist's ratings compare over time. The first band or artist is shown in red, and the second band or artist is shown in blue. Each line spans multiple years, and each point represents the average rating the owner gave that artist's albums in that given year.</p>
      <ol>
        <li>Click the <strong>Artist Comparison</strong> tab.
          <img src="Images/EndUser/ArtistComparison/S1.jpg" alt="Artist Comparison tab showing two drop-down menus for selecting a first and second artist" class="step-img">
        </li>
        <li>Click the <strong>First band or artist</strong> <strong>drop-down menu</strong> and select your first artist.
          <img src="Images/EndUser/ArtistComparison/S2.png" alt="First band or artist drop-down menu open with a list of artists to select from" class="step-img">
        </li>
        <li>Click the <strong>Second band or artist</strong> <strong>drop-down menu</strong>.
          <ol class="sub-steps">
            <li>Select <strong>Acid House Kings</strong>. The chart generates automatically — no Submit button is needed. If done correctly, the chart will look like the one shown below.</li>
          </ol>
          <img src="Images/EndUser/ArtistComparison/S3.jpg" alt="Completed comparative line chart with two colored lines plotted by year and average rating" class="step-img">
          <p>You will see one line and one dot. The red dot represents 10,000 Maniacs — they appear as a single dot because the owner ranked them in only one year, 1993, with an average score of 8. The blue line represents Acid House Kings, which spans from 1997 to 2005 and stays flat at 6, telling us the owner rated their albums an average of 6 per year across that entire period.</p>
        </li>
      </ol>
      <p class="note">Note: an artist will only appear on the chart for years in which the owner has at least one ranked album.</p>
    </div>
  </div>

  <div class="collapsible" id="vinyl">
    <button class="collapsible-btn">Finding Albums Not Yet in the Vinyl Collection <span class="arrow">▸</span></button>
    <div class="collapsible-body" hidden>
      <p>The <strong>Vinyl</strong> tab displays all albums the owner does not yet own on vinyl that meet a minimum rating threshold you select. Results show every album at or above that rating, sorted by rating in descending order — making it easy to identify top candidates for the vinyl collection.</p>
      <ol>
        <li>Click the <strong>Vinyl</strong> tab.
          <img src="Images/EndUser/Vinyl/S1.jpg" alt="Vinyl tab showing the Select which albums to display drop-down menu and a Submit button" class="step-img">
        </li>
        <li>Click the <strong>Select which albums to display</strong> <strong>drop-down menu</strong>.
          <img src="Images/EndUser/Vinyl/S2.jpg" alt="Drop-down menu open showing minimum rating threshold options" class="step-img">
          <ol class="sub-steps">
            <li>Select <strong>9 and higher</strong>.</li>
             <img src="Images/EndUser/Vinyl/S3.jpg" alt="Data table listing albums rated 9 and above not yet owned on vinyl, with Album, Artist, and Rating columns" class="step-img">
            <li>Click <strong>Submit</strong>. If done correctly, you will see only albums rated 9 and above, as shown below.
             <img src="Images/EndUser/Vinyl/S4.jpg" alt="Completed Vinyl data table showing full results for the selected minimum rating" class="step-img">
            </li>
          </ol>
        </li>
      </ol>
      <p class="note">Note: once you have clicked Submit for the first time, you do not need to click it again — selecting a new rating from the drop-down will automatically update the results.</p>
    </div>
  </div>

  <div class="collapsible" id="appendix">
    <button class="collapsible-btn">Appendix: Terminology <span class="arrow">▸</span></button>
    <div class="collapsible-body" hidden>
      <ul>
        <li><strong>Range Slider</strong>: A user interface component that allows you to select a range of values from a set of numbers.</li>
        <li><strong>Handle</strong>: The draggable element on a range slider that users interact with to select a value or range of values. It moves along the slider's track and visually indicates the current selected value(s). In a dual-range slider, there are typically two handles—one for the minimum value and one for the maximum value—allowing users to define a specific range.</li>
        <li><strong>Drop-Down Menu</strong>: A graphical user interface element that allows users to choose from a list of options that appears when they click on or hover over a button or other control.</li>
        <li><strong>Comparative Line Chart</strong>: A visual representation of data used to compare and contrast two or more data sets.</li>
        <li><strong>Aggregate</strong>: To filter and combine data based on criteria you select.</li>
      </ul>
    </div>
  </div>

</div>

<!-- ===== PROGRAMMERS ===== -->
<div id="programmers-section" class="content-section" hidden>

  <nav class="section-nav">
    <span class="nav-label">Jump to:</span>
    <a href="#setup">Setting Up R and RStudio</a>
    <a href="#data-csv">album-ranking.csv</a>
    <a href="#app-r">app.R</a>
    <a href="#app-server-r">app_server.R</a>
    <a href="#app-ui-r">app_ui.R</a>
    <a href="#adding-new-functions">Adding New Functions</a>
  </nav>

  <h2>Programmers</h2>
  By the end of this guide, you will be able to call <i>My Favorite Albums</i> data functions directly in RStudio to query your album dataset and generate visualizations, and run and modify the Shiny web application.
  <br><br>
  <strong>Audience</strong>: Experienced R programmers who want to work with <i>My Favorite Albums</i> functions to analyze data and generate web pages.
  <br><br>
  <strong>Prerequisites</strong>
  <ul>
    <li>You are familiar with R.</li>
    <li>You are familiar with the <a href="https://ggplot2.tidyverse.org/reference/index.html"><code>ggplot2</code></a>, <a href="https://shiny.posit.co/r/reference/shiny/latest/"><code>shiny</code></a>, and <a href="https://dplyr.tidyverse.org/reference/index.html"><code>dplyr</code></a> R packages.</li>
    <li>You are familiar with CSV files.</li>
  </ul>
  <strong>Starting point</strong>: RStudio is open with the <i>My Favorite Albums</i> project directory set as your working directory and <code>album-ranking.csv</code> is in the <code>data/</code> folder.
  <p class="note">Note: all data functions operate on the album_data dataset loaded from data/album-ranking.csv, which contains the following fields:</p>
  <table>
    <tr>
      <th>Year</th>
      <th>Ranking</th>
      <th>Album</th>
      <th>Artist</th>
      <th>Rating</th>
      <th>Vinyl</th>
      <th>EP</th>
      <th>Live</th>
    </tr>
    <tr>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
  </table>

  <div class="collapsible" id="setup">
    <button class="collapsible-btn">Setting Up R, RStudio, and Required Packages <span class="arrow">▸</span></button>
    <div class="collapsible-body" hidden>
      <p>Use these steps to install R, RStudio, and the packages required to run <i>My Favorite Albums</i>. The app relies on three packages: <code>shiny</code> to build the web interface, <code>dplyr</code> to filter and aggregate album data, and <code>ggplot2</code> to generate the artist comparison chart. All three must be installed before the app will run.</p>
      <ol>
        <li>Download and install RStudio from the <a href="https://posit.co/download/rstudio-desktop/">Posit website</a>. Select the free RStudio Desktop version and follow the installer prompts.
        </li>
        <li>Install the required packages:
          <ol class="sub-steps">
            <li>Open RStudio.</li>
            <li>In the console, install the required packages by running:
              <pre><code>install.packages(c("shiny", "dplyr", "ggplot2"))</code></pre>
            </li>
            <li>Wait for the console prompt (<code>&gt;</code>) to reappear — this indicates installation is complete.</li>
          </ol>
        </li>
        <li>Set your working directory to the project folder via <strong>Session &gt; Set Working Directory &gt; Choose Directory</strong> and select the <i>My Favorite Albums</i> project folder.</li>
      </ol>
    </div>
  </div>

  <div class="collapsible" id="data-csv">
    <button class="collapsible-btn">Setting Up album-ranking.csv <span class="arrow">▸</span></button>
    <div class="collapsible-body" hidden>
      <p>This is the CSV file that all data aggregation functions operate on. Follow these steps to create or update it with your own album data. Getting this file structured correctly is required before the app will load and display any data. This guide assumes you are comfortable working in Excel or Google Sheets.</p>
      <ol>
        <li>In Excel or Google Sheets, create a new blank file and enter the following column headers in the first row in this exact order:
          <pre><code>Year,Ranking,Album,Artist,Rating,Vinyl,EP,Live</code></pre>
        </li>
        <li>Add each album as its own row beneath the headers. For the last three columns, use the following values:
          <ul>
            <li><strong>Vinyl</strong>: enter <code>v</code> if you own the album on vinyl, leave empty otherwise</li>
            <li><strong>EP</strong>: enter <code>EP</code> if the release is an EP, leave empty otherwise</li>
            <li><strong>Live</strong>: enter <code>Live</code> if the release is a live album, leave empty otherwise</li>
          </ul>
        </li>
        <li>Save the file as a CSV:
          <ol class="sub-steps">
            <li>Name the file <code>album-rankings.csv</code>.</li>
            <li>Place it in the <code>data/</code> folder inside the <i>My Favorite Albums</i> project folder — the same folder that contains <code>app.R</code> and the other R files.</li>
          </ol>
        </li>
        <li>Open RStudio and set your working directory to the project folder via <strong>Session &gt; Set Working Directory &gt; Choose Directory</strong>.</li>
        <li>Run the app with <code>shiny::runApp()</code>. If the Home tab displays a total album count and artist count, the file loaded correctly.</li>
      </ol>
      <p class="note">Note: the Artist field must be spelled consistently across all rows. Inconsistent capitalization (e.g., "Radiohead" vs. "radiohead") will cause that artist to appear as multiple separate entries throughout the app.</p>
      <p class="note">Note: the year range slider is hardcoded to 1993–2024. If your data includes years outside that range, see the <a href="#app-ui-r">app_ui.R</a> section for instructions on updating it.</p>
    </div>
  </div>

  <div class="collapsible" id="app-r">
    <button class="collapsible-btn">app.R — Running the Application <span class="arrow">▸</span></button>
    <div class="collapsible-body" hidden>
      <p>Use these steps to launch the <i>My Favorite Albums</i> Shiny web application. <code>app.R</code> is the entry point that loads all libraries and sources every other R file in the project, so running it is all that is needed to start the full application.</p>
      <ol>
        <li>Open <code>app.R</code> in RStudio.</li>
        <li>Set your working directory to the project folder via <strong>Session &gt; Set Working Directory &gt; Choose Directory</strong>.</li>
        <li>Click the <strong>Run App</strong> button in the top-right corner of the editor pane, or run the following in the console:
          <pre><code>shiny::runApp()</code></pre>
          The application opens in your browser with all seven tabs available.
        </li>
      </ol>
      <p class="note">Note: add new <code>library()</code> and <code>source()</code> calls to this file when extending the app with additional dependencies or R files.</p>
    </div>
  </div>

  <div class="collapsible" id="app-server-r">
    <button class="collapsible-btn">app_server.R — Connecting Input to Data Functions <span class="arrow">▸</span></button>
    <div class="collapsible-body" hidden>
      <p>Use these steps to trace or update how a tab's user input connects to a data function. Shiny separates UI and server logic into different files — <code>app_server.R</code> handles all reactivity, meaning it listens for user input and decides what to compute and display in response. Editing this file is how you change what happens when a user interacts with a tab.</p>
      <ol>
        <li>Open <code>app_server.R</code> in RStudio.</li>
        <li>Locate the tab you want to modify. Each tab follows the same pattern: it reads user input, passes it to a data function, and renders the result. The list below shows which function each tab calls:
          <ul>
            <li>Home: <code>total_album_count()</code>, <code>total_band_count()</code>, <code>most_pop_artist()</code></li>
            <li>Number One Albums: <code>number_one_album()</code></li>
            <li>Top Albums by Year: <code>year_albums()</code></li>
            <li>Artist's Albums: <code>albums_by_bands()</code>, <code>band_album_count()</code>, <code>band_mean_rating()</code></li>
            <li>Favorite Artists: <code>favorite_bands()</code></li>
            <li>Artist Comparison: <code>band_album_comparison_chart()</code></li>
            <li>Vinyl: <code>missing_vinyl()</code></li>
          </ul>
        </li>
        <li>Each tab's server logic follows the same pattern — an <code>observeEvent()</code> block that reads user input, calls a function, and renders the result:
          <pre><code>observeEvent(input$submit_id, {
  output$output_id &lt;- renderTable({
    function_name(input$input_id)
  })
})</code></pre>
          <ol class="sub-steps">
            <li>To <strong>add</strong> a new block:
              <ul>
                <li>Find the last <code>observeEvent()</code> in the file.</li>
                <li>Add a new block directly after it, inside the <code>server &lt;- function(input, output)</code> body.</li>
                <li>Set <code>submit_id</code> and <code>output_id</code> to match the IDs you defined in <code>app_ui.R</code>.</li>
                <li>Replace <code>function_name</code> with the function you want to call.</li>
              </ul>
            </li>
            <li>To <strong>modify</strong> an existing block:
              <ul>
                <li>Find the block by searching for the tab's submit ID (e.g., <code>input$submit_vinyl</code>).</li>
                <li>Replace <code>function_name</code> with your new function.</li>
                <li>Update the argument to match the relevant input control.</li>
                <li>If your function returns a chart, use <code>renderPlot()</code> instead of <code>renderTable()</code>.</li>
              </ul>
            </li>
          </ol>
        </li>
        <li>Save the file and run the app in the console:
          <pre><code>shiny::runApp()</code></pre>
          Interact with the tab you modified and confirm it returns the expected output.
        </li>
      </ol>
    </div>
  </div>

  <div class="collapsible" id="app-ui-r">
    <button class="collapsible-btn">app_ui.R — Defining the Application Layout <span class="arrow">▸</span></button>
    <div class="collapsible-body" hidden>
      <p>Use these steps to modify the layout or add a new tab to the application. <code>app_ui.R</code> controls everything the user sees — keeping it separate from the server logic makes both files easier to maintain and update independently.</p>
      <ol>
        <li>Open <code>app_ui.R</code> in RStudio.</li>
        <li>Each tab is defined as a <code>tabPanel()</code> inside <code>tabsetPanel()</code>, containing input controls and an output placeholder:
          <pre><code>tabPanel("Tab Name",
  selectInput("your_input", "Label", choices = c(...)),
  actionButton("your_submit", "Submit"),
  tableOutput("your_output")
)</code></pre>
          <ol class="sub-steps">
            <li>To <strong>add</strong> a new tab:
              <ul>
                <li>Find the last <code>tabPanel()</code> inside <code>tabsetPanel()</code>.</li>
                <li>Add your new <code>tabPanel()</code> directly after it, before the closing <code>)</code> of <code>tabsetPanel()</code>.</li>
                <li>Set the input ID (e.g., <code>"your_input"</code>) and submit ID (e.g., <code>"your_submit"</code>) — these must match what you use in <code>app_server.R</code>.</li>
                <li>Set the output ID (e.g., <code>"your_output"</code>) — this must match the ID used in <code>renderTable()</code> or <code>renderPlot()</code> in <code>app_server.R</code>.</li>
                <li>Use <code>plotOutput()</code> instead of <code>tableOutput()</code> if your function returns a chart.</li>
              </ul>
            </li>
            <li>To <strong>modify</strong> an existing tab:
              <ul>
                <li>Find the <code>tabPanel()</code> by its name (e.g., <code>tabPanel("Vinyl", ...)</code>).</li>
                <li>Update the input control choices, labels, or IDs as needed.</li>
                <li>If you change an input or output ID, update the matching ID in <code>app_server.R</code> to keep them in sync.</li>
              </ul>
            </li>
          </ol>
        </li>
        <li>Save the file and re-run the app with <code>shiny::runApp()</code> to see your changes in the browser.</li>
      </ol>
      <p class="note">Note: the Number One Albums tab uses a range slider with hardcoded bounds (<code>min = 1993, max = 2024</code>). If your album data includes years outside this range, update those values in the <code>sliderInput()</code> call inside the <code>tabPanel("Number One Albums", ...)</code> block in <code>app_ui.R</code>:
        <pre><code>sliderInput("year_range", "Select Year Range",
            min = 1990, max = 2030,
            value = c(1993, 2024))</code></pre>
        Replace <code>min</code> and <code>max</code> with the earliest and latest years in your dataset. The <code>value</code> field sets the default handle positions when the app loads.
      </p>
    </div>
  </div>

  <div class="collapsible" id="adding-new-functions">
    <button class="collapsible-btn">Adding New Functions to the App <span class="arrow">▸</span></button>
    <div class="collapsible-body" hidden>
      <p>Use these steps to add a custom R file with its own aggregation function into the <i>My Favorite Albums</i> app and expose it as a new tab in the web interface.</p>
      <ol>
        <li>Write your function in a new R file in the project directory. Your function can reference <code>album_data</code> directly — it is a global variable loaded automatically when the app starts, so you do not need to pass it as an argument:
          <pre><code>your_function &lt;- function(your_input) {
  album_data %&gt;%
    filter(Column == your_input) %&gt;%
    select(Album, Artist, Rating) %&gt;%
    arrange(desc(Rating))
}</code></pre>
          Replace <code>Column</code> with the field you want to filter on (e.g., <code>Artist</code>, <code>Year</code>) and update <code>select()</code> to include whichever columns you want returned.
        </li>
        <li>Open <code>app.R</code> in RStudio. Find the block of existing <code>source()</code> calls near the top of the file. Add a new line at the end of that block with your file's name:
          <pre><code>source("your_file.R")</code></pre>
        </li>
        <li>Open <code>app_ui.R</code> in RStudio. Find the <code>tabsetPanel()</code> call — this is where all tabs are defined. Add a new <code>tabPanel()</code> after the last existing <code>tabPanel()</code>, just before the closing <code>)</code> of <code>tabsetPanel()</code>:
          <pre><code>tabPanel("Your Tab Name",
  selectInput("your_input", "Label", choices = c(...)),
  actionButton("your_submit", "Submit"),
  tableOutput("your_output")
)</code></pre>
        </li>
        <li>Open <code>app_server.R</code> in RStudio. Find the last <code>observeEvent()</code> block in the file. Add your new <code>observeEvent()</code> block directly after it, still inside the <code>server &lt;- function(input, output)</code> body:
          <pre><code>observeEvent(input$your_submit, {
  output$your_output &lt;- renderTable({
    your_function(input$your_input)
  })
})</code></pre>
        </li>
        <li>Save all three files — <code>app.R</code>, <code>app_ui.R</code>, and <code>app_server.R</code>. Run the app in the console:
          <pre><code>shiny::runApp()</code></pre>
          If done correctly, your new tab appears in the tab bar. Clicking it shows your input controls, and clicking Submit displays the result of your function.
        </li>
      </ol>
      <p class="note">Note: the output ID used in <code>tableOutput()</code> must exactly match the ID used in <code>renderTable()</code> in the server file, and input IDs must match between <code>app_ui.R</code> and <code>app_server.R</code>.</p>
    </div>
  </div>

</div>

<script>
  // Tab switching
  document.querySelectorAll('.tab-btn').forEach(function(btn) {
    btn.addEventListener('click', function() {
      var tab = this.getAttribute('data-tab');

      document.querySelectorAll('.tab-btn').forEach(function(b) {
        b.classList.remove('active');
      });
      document.querySelectorAll('.content-section').forEach(function(s) {
        s.hidden = true;
      });

      this.classList.add('active');
      document.getElementById(tab + '-section').hidden = false;
      window.scrollTo(0, 0);
    });
  });

  // Collapsible toggle
  document.querySelectorAll('.collapsible-btn').forEach(function(btn) {
    btn.addEventListener('click', function() {
      var body = this.nextElementSibling;
      var arrow = this.querySelector('.arrow');
      var isOpen = !body.hidden;

      body.hidden = isOpen;
      arrow.textContent = isOpen ? '▸' : '▾';
    });
  });

  // Auto-open when a nav link is clicked
  document.querySelectorAll('.section-nav a').forEach(function(link) {
    link.addEventListener('click', function() {
      var target = document.querySelector(this.getAttribute('href'));
      if (target && target.classList.contains('collapsible')) {
        var body = target.querySelector('.collapsible-body');
        var arrow = target.querySelector('.arrow');
        body.hidden = false;
        arrow.textContent = '▾';
      }
    });
  });
</script>
</body>
</html>
